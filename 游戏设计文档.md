# 游戏设计文档 (GDD)

## 项目名称：赛博学神：神经潜渊 (Cyber Scholar: Neural Dive)

## 1. 游戏愿景 (Vision)

将枯燥的期末复习转化为一场惊心动魄的黑客入侵行动。玩家不再是在"背书"，而是在"下载"被巨型企业封锁的知识数据。通过引入《暗黑地牢》式的压力管理机制，完美模拟考前复习的高压焦虑感与突破瓶颈后的心流成就感。

---

## 2. 世界观与故事背景 (Narrative: The Chrono-Jungle)

### 2.1 核心设定：熵增与漂流

* **背景**: 你是一艘恒星级飞船 **"思维号 (The Mind)"** 的舰长。飞船正处于 **"考前视界 (The Exam Horizon)"** 的边缘，巨大的引力（时间紧迫感）正在撕扯船体。
* **危机**: 为了逃离黑洞，你需要启动 **"逻辑跃迁引擎"**。但引擎的燃料——**知识数据**——因为长期未被访问（你很久没复习），在量子存储器中发生了诡异的 **"次生演化"**。
* **现状**: 曾经井井有条的资料库，现在化为了一片 **霓虹闪烁、机械藤蔓缠绕的原始数据森林**。知识不再是静态的文字，而是变成了具有攻击性的 **"野生概念体"**，盘踞在飞船的各个舱室（章节）。

### 2.2 玩家身份：收割者舰长 (The Reaper Captain)

你无法坐在驾驶舱指挥。你必须穿上 **"神经潜行装甲"**，手持 **"算法开山刀"**，亲自深入这片长满飞船内部的赛博热带雨林。

* **任务**: 砍伐（学习）疯长的知识藤蔓，狩猎（解题）概念野兽，将它们提炼成纯净的 **"认知燃料"**，注满引擎。

### 2.3 敌人：野生概念体 (Feral Concepts)

复习资料的难度决定了生态系统的凶险程度：

* **故障藤蔓 (Glitched Vines)**: 基础填空/单选。一刀（答对）即可收割燃料。
* **拟态掠食者 (Mimic Predators)**: 陷阱题/易混淆概念。伪装成宝箱或无害数据，选错选项会被"反咬"一口（大幅增加熵值）。
* **逻辑泰坦 (Logic Titans)**: 章节大题/重难点。盘踞在核心服务器节点的赛博恐龙，需要层层剥开装甲（多步骤解题）才能击杀。

---

## 3. 核心玩法循环 (Core Loop)

1. **准备 (Setup)**: 导入复习资料 (PDF/Text) -> AI 分析并生成科技树 -> 配置你的"神经代理人"小队。
2. **宏观 (Macro)**: 在"知识网络（地图）"上选择路径，规划复习顺序，解锁前置节点。
3. **微观 (Micro)**: 进入节点（章节） -> 开启回合制战斗（答题） -> 管理队伍的血量与"过载值"。
4. **结算 (Reward)**: 击败 BOSS -> 获得"知识碎片" -> 解锁新节点或升级黑客插件。

---

## 4. 详细机制设计 (Mechanics)

### 4.1 宏观层：全息知识网络 (The Knowledge Grid)

这是游戏的主界面，对应《文明》的科技树或《杀戮尖塔》的地图。

* **生成逻辑**:
    * 用户导入资料 -> AI 识别目录层级 (H1, H2, H3)。
    * **Root 节点**: 基础概念章节。
    * **Branch 节点**: 进阶理论章节。
* **Lock (解锁) 机制**:
    * 只有通关（即复习完）前置节点，后置节点才会从"加密状态（灰色/锁链）"变为"可入侵状态（霓虹色/呼吸灯）"。
    * 此机制强制用户按逻辑顺序复习，打好基础。
* **视觉表现**:
    * 使用 SVG 绘制节点连线。
    * 鼠标悬停显示概览："本章节包含 25 个知识实体，危险等级：高"。

### 4.2 微观层：神经潜渊战斗 (The Dive)

这是游戏的核心，复刻《暗黑地牢》的回合制战斗体验。

#### A. 战斗界面布局

* **左侧 (Player)**: 玩家小队（3个神经代理人立绘）。
* **右侧 (Enemy)**: 敌人（数据幽灵/题目的具象化）。
* **中央 (Interaction)**: 核心交互区（题目显示面板 + 选项卡）。
* **底部 (HUD)**: 技能栏与状态栏（HP/过载值）。

#### B. 你的小队：神经代理人 (Neural Agents)

玩家不直接上场，而是指挥大脑的不同功能区进行具象化战斗。

| 代理人名称 | 原型 (Archetype) | 擅长题型 | 主动技能示例 | 被动特性 |
| :--- | :--- | :--- | :--- | :--- |
| **逻辑引擎**<br>(Logic Engine) | 输出 (DPS) | 计算、推理、逻辑判断 | **暴力破解 (Brute Force)**:<br>单体高伤。若题目涉及公式计算，暴击率翻倍。 | **多核运算**: 连续答对3题后，下一次攻击变为AOE（群体攻击）。 |
| **档案管理员**<br>(The Archivist) | 坦克/控制 | 概念记忆、填空、历史 | **数据检索 (Index Search)**:<br>针对多个小怪（填空题）。答对一个空，眩晕敌人一回合。 | **只读存储**: 自身受到的"过载伤害"降低 20%。 |
| **防火墙**<br>(The Firewall) | 辅助/治疗 | 综合/判断题 | **异常拦截 (Exception Catch)**:<br>为队友施加护盾，抵消一次答错带来的过载增加。 | **系统重构**: 战斗胜利后，微量回复全队过载值。 |

#### C. 敌人：数据幽灵 (Data Phantoms)

* **普通防御程式 (Minion)**: 单选/判断题。血量低，答对一题即死。
* **逻辑门卫 (Elite)**: 多选题/简答题关键词。血量高，需要造成多次伤害（答对多个点）才能击杀。
* **本章领主 (Boss)**: 综合案例分析题。
    * *特殊机制*: Boss 会释放"**记忆干扰**"技能，把题目中的关键信息打上马赛克，玩家需要消耗能量使用"去噪工具"才能看清题目。

#### D. 核心系统：过载 (System Overload)

这是对《暗黑地牢》"压力值"机制的映射，模拟复习时的焦虑。

* **过载来源**:
    * **答错题**: 大幅增加当前行动代理人的过载。
    * **超时**: 倒计时结束未作答，全队增加少量过载。
    * **敌人技能**: 某些敌人不扣血，专门通过"在题目里挖坑（干扰项）"来增加你的过载。
* **过载爆发 (100% 阈值)**:
    * 当代理人过载条满，进行一次 `Math.random()` 判定：
    * **结局 A - 赛博精神病 (Cyberpsychosis) (70%概率)**:
        * *效果*: 界面出现 Glitch 故障特效（CSS `clip-path` 动画）。
        * *症状*: **拒绝指令**（无法选中该代理人）、**乱选**（自动选择一个错误答案）、**绝望**（每回合增加队友过载）。
    * **结局 B - 灵光一闪 (Optimization) (30%概率)**:
        * *效果*: 角色全身发金光（CSS `drop-shadow`）。
        * *症状*: **心流状态**。接下来 3 回合，可以直接看到排除掉 2 个错误选项后的题目，且伤害（得分）翻倍。

#### E. 赛博技能与道具

将复习辅助手段包装成黑客工具：

* **DDOS 攻击**: 遇到完全不会的题 -> *跳过此题*（不扣血，但也不造成伤害，战斗轮次延后）。
* **SQL 注入**: 遇到多选题 -> *自动选中一个正确选项*。
* **杀毒软件**: 休息阶段使用 -> *消除错题本中的记录*，降低全队过载值。

---

## 5. 数据结构设计 (JSON)

### AI 生成的游戏数据是核心驱动力

在 Electron 主进程中使用免费的 Gemini API 生成 JSON 格式的游戏数据。